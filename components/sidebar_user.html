<script src="../js/avatarGenerator.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get user data from localStorage
        const branchUsers = JSON.parse(localStorage.getItem('branchUsers'));
        const user = branchUsers ? branchUsers.find(user => user.type === 'branch_manager') : null;
        const branchName = localStorage.getItem('branchName');

        // Update user name and branch name
        if (user) {
            document.getElementById('userName').textContent = user.name;
            // Update avatar using avatarGenerator.js
            updateUserAvatar(user.name);
            console.log('Generated avatar for:', user.name); // Debug log
        }

        if (branchName) {
            document.getElementById('branchName').textContent = branchName;
        }
    });
</script>

<div class="user-info position-absolute bottom-0 start-0 p-3 w-100">
    <div class="d-flex align-items-center">
        <img id="userAvatar" alt="User Avatar" class="user-avatar">
        <div class="text-white">
            <small><span id="userName">-</span> - <span id="branchName">-</span></small>
        </div>
    </div>
</div>

<style>
    .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 1rem;
        background-color: #ffffff20;
    }
</style>